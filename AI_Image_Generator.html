<template>
    <lightning-card title="AI Image Generator">
        <lightning-layout>
            <lightning-layout-item size="12">
                <label for="prompt">Enter your prompt:</label>
                </br>
                <textarea id="prompt" rows="4" onchange={handlePromptChange}></textarea>
            </lightning-layout-item>
        </lightning-layout>
        <lightning-layout>
            <lightning-layout-item size="12">
                <div class="submit-button-container">
                    <lightning-button label="Submit Request" onclick={sendRequest}></lightning-button>
                </div>
            </lightning-layout-item>
        </lightning-layout>
    </lightning-card>
    <template if:true={isLoading}>
        <lightning-card>
            <lightning-layout>
                <lightning-layout-item size="12">
                    <div class="spinner-container">
                        <lightning-spinner variant="brand" alternative-text="Loading"></lightning-spinner>
                    </div>
                </lightning-layout-item>
            </lightning-layout>
        </lightning-card>
    </template>
    <template if:true={imageUrl}>
        <lightning-card>
            <lightning-layout>
                <lightning-layout-item size="12">
                    <div class="response-container">
                        <lightning-icon icon-name="action:approval" alternative-text="Approved" title="Approved"></lightning-icon>
                        <h2>Response:</h2>
                        <img src={imageUrl} alt="Generated Image" />
                    </div>
                </lightning-layout-item>
            </lightning-layout>
        </lightning-card>
    </template>
</template>
